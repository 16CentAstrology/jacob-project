<?xml version="1.0" encoding="UTF-8"?>
<project default="plugin_export" name="build">
	<target name="plugin_export">
		<delete  includeemptydirs="true" dir="dist"/>
		<pde.exportPlugins destination="dist" exportSource="false"  exportType="directory" plugins="JacobGenerator" useJARFormat="true"/>
		<copy overwrite="true" todir="dist">
			<fileset dir="lib" includes="*.dll" />
		</copy>
	</target>

	<target name="emf">
		<emf.Ecore2Java> 
		    model="model/company.ecore"
			genmodel="model/company.genmodel"

			reconcileGenModel="reload"

            generateJavaCode="true"
            generateModelProject="false"
            generateEditProject="false"
            generateEditorProject="false"

            modelProject="D:/workspace/sourceforge/JacobGeneratorEngine"
            modelProjectFragmentPath="genSrc"
		>
			
			<arg line="-package http://org.library org.examples Library"/>
		</emf.Ecore2Java>
	</target>

	<target name="zip"  description="export is asynchronise">
		<echo> Make sure you have changed the manifest file as well !!! ${Bundle-Version} </echo>
		<zip destfile="JacobGen-1.0.02.zip" basedir="dist" compress="true" />
		<delete  includeemptydirs="true" dir="dist"/>
	</target>

</project>
